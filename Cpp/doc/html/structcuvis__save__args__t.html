<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CUVIS C++ SDK: cuvis_save_args_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CUVIS C++ SDK<span id="projectnumber">&#160;3.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structcuvis__save__args__t-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cuvis_save_args_t Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>options for saving as cu3/cu3s files  
 <a href="structcuvis__save__args__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cuvis_8h_source.html">cuvis.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5b51f415efc01e9bd4c10d35502f4e27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#a5b51f415efc01e9bd4c10d35502f4e27">allow_fragmentation</a></td></tr>
<tr class="memdesc:a5b51f415efc01e9bd4c10d35502f4e27"><td class="mdescLeft">&#160;</td><td class="mdescRight">allow to split file to multiple files.  <a href="structcuvis__save__args__t.html#a5b51f415efc01e9bd4c10d35502f4e27">More...</a><br /></td></tr>
<tr class="separator:a5b51f415efc01e9bd4c10d35502f4e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5ae557edf90f2f63a48f47bbe7c15d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#a9e5ae557edf90f2f63a48f47bbe7c15d">allow_overwrite</a></td></tr>
<tr class="memdesc:a9e5ae557edf90f2f63a48f47bbe7c15d"><td class="mdescLeft">&#160;</td><td class="mdescRight">allow to overwrite an existing file.  <a href="structcuvis__save__args__t.html#a9e5ae557edf90f2f63a48f47bbe7c15d">More...</a><br /></td></tr>
<tr class="separator:a9e5ae557edf90f2f63a48f47bbe7c15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0776cc32849e03c9c74853065f5ab1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#aa0776cc32849e03c9c74853065f5ab1e">allow_drop</a></td></tr>
<tr class="memdesc:aa0776cc32849e03c9c74853065f5ab1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">allow to drop files, if output buffers are full  <a href="structcuvis__save__args__t.html#aa0776cc32849e03c9c74853065f5ab1e">More...</a><br /></td></tr>
<tr class="separator:aa0776cc32849e03c9c74853065f5ab1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151b107cdada8e0cdc3b48d77afc8263"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a></td></tr>
<tr class="memdesc:a151b107cdada8e0cdc3b48d77afc8263"><td class="mdescLeft">&#160;</td><td class="mdescRight">save files of same session number to a single cu3s file.  <a href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">More...</a><br /></td></tr>
<tr class="separator:a151b107cdada8e0cdc3b48d77afc8263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701a983b2277993f92d0af8e54a399f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#a701a983b2277993f92d0af8e54a399f2">allow_info_file</a></td></tr>
<tr class="memdesc:a701a983b2277993f92d0af8e54a399f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">save additional info file.  <a href="structcuvis__save__args__t.html#a701a983b2277993f92d0af8e54a399f2">More...</a><br /></td></tr>
<tr class="separator:a701a983b2277993f92d0af8e54a399f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5bbf3a670062d87c01c43aef22ee593"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cuvis_8h.html#a1e2992f6dfbc40f72fc5ebe587ad5a5d">CUVIS_OPERATION_MODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#ae5bbf3a670062d87c01c43aef22ee593">operation_mode</a></td></tr>
<tr class="memdesc:ae5bbf3a670062d87c01c43aef22ee593"><td class="mdescLeft">&#160;</td><td class="mdescRight">give the current operation mode.  <a href="structcuvis__save__args__t.html#ae5bbf3a670062d87c01c43aef22ee593">More...</a><br /></td></tr>
<tr class="separator:ae5bbf3a670062d87c01c43aef22ee593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3cba728e3a2d2ca77213d606796488"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#a0d3cba728e3a2d2ca77213d606796488">fps</a></td></tr>
<tr class="memdesc:a0d3cba728e3a2d2ca77213d606796488"><td class="mdescLeft">&#160;</td><td class="mdescRight">the fps used in operation_mode video  <a href="structcuvis__save__args__t.html#a0d3cba728e3a2d2ca77213d606796488">More...</a><br /></td></tr>
<tr class="separator:a0d3cba728e3a2d2ca77213d606796488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4838cfd9b94d1cb372cc5eb1052a428"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#aa4838cfd9b94d1cb372cc5eb1052a428">soft_limit</a></td></tr>
<tr class="memdesc:aa4838cfd9b94d1cb372cc5eb1052a428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Out-of-order frames are sorted within the cache, as long as the cache useage is below this limit.  <a href="structcuvis__save__args__t.html#aa4838cfd9b94d1cb372cc5eb1052a428">More...</a><br /></td></tr>
<tr class="separator:aa4838cfd9b94d1cb372cc5eb1052a428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6faf43ac22bf2d91dd7e85106f78ca3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#ae6faf43ac22bf2d91dd7e85106f78ca3">hard_limit</a></td></tr>
<tr class="memdesc:ae6faf43ac22bf2d91dd7e85106f78ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of elements in output cache.  <a href="structcuvis__save__args__t.html#ae6faf43ac22bf2d91dd7e85106f78ca3">More...</a><br /></td></tr>
<tr class="separator:ae6faf43ac22bf2d91dd7e85106f78ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8e57e459c3bf32a4b11869d64e79e35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcuvis__save__args__t.html#ae8e57e459c3bf32a4b11869d64e79e35">max_buftime</a></td></tr>
<tr class="memdesc:ae8e57e459c3bf32a4b11869d64e79e35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Any frame is forced to be written after this time (in ms), latest.  <a href="structcuvis__save__args__t.html#ae8e57e459c3bf32a4b11869d64e79e35">More...</a><br /></td></tr>
<tr class="separator:ae8e57e459c3bf32a4b11869d64e79e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >options for saving as cu3/cu3s files </p>
<p >The cube exporter works asynchronically. For</p>
<h2><a class="anchor" id="autotoc_md9"></a>
offline saving to session file</h2>
<p >When processing sesion files (<a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a>=true) offline, the option <a class="el" href="structcuvis__save__args__t.html#aa0776cc32849e03c9c74853065f5ab1e">allow_drop</a> should be set to false. In this case measurements are added to the internal buffer until the size given by <a class="el" href="structcuvis__save__args__t.html#ae6faf43ac22bf2d91dd7e85106f78ca3">hard_limit</a> is reached. <br  />
 In this mode, the options <a class="el" href="structcuvis__save__args__t.html#aa4838cfd9b94d1cb372cc5eb1052a428">soft_limit</a> and <a class="el" href="structcuvis__save__args__t.html#ae8e57e459c3bf32a4b11869d64e79e35">max_buftime</a> are ignroed.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
online saving to session file</h2>
<p >When recording sesion files (<a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a>=true) live, the options <a class="el" href="structcuvis__save__args__t.html#aa0776cc32849e03c9c74853065f5ab1e">allow_drop</a> should be set to true.</p>
<p >When a new measurement is added to the cube exporter, the following strategy is applied:</p>
<ol type="1">
<li>The internal buffer has a total limit of size <a class="el" href="structcuvis__save__args__t.html#ae6faf43ac22bf2d91dd7e85106f78ca3">hard_limit</a>. If the buffer is full, it will be dropped (end).</li>
<li>If the buffer is not full, the <a class="el" href="structcuvis__save__args__t.html#aa4838cfd9b94d1cb372cc5eb1052a428">soft_limit</a> is checed. If it is reachd, the ordering of the frame numbers is ignored and the measurement with the lowest sequence nubmer is stored to the disk directly. (This can mess up the order of the frames set <a class="el" href="structcuvis__save__args__t.html#aa4838cfd9b94d1cb372cc5eb1052a428">soft_limit</a> = <a class="el" href="structcuvis__save__args__t.html#ae6faf43ac22bf2d91dd7e85106f78ca3">hard_limit</a> to disable this behaviour)</li>
<li>All meausurements in the internal buffer are checked: If they are held in the buffer for longer then the time given by <a class="el" href="structcuvis__save__args__t.html#ae8e57e459c3bf32a4b11869d64e79e35">max_buftime</a>, they are saved to disk directly. (This can mess up the order of the frames set <a class="el" href="structcuvis__save__args__t.html#ae8e57e459c3bf32a4b11869d64e79e35">max_buftime</a> to a higher value allow for longer hold time intervals.) </li>
</ol>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="aa0776cc32849e03c9c74853065f5ab1e" name="aa0776cc32849e03c9c74853065f5ab1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0776cc32849e03c9c74853065f5ab1e">&#9670;&nbsp;</a></span>allow_drop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a> cuvis_save_args_t::allow_drop</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allow to drop files, if output buffers are full </p>
<p >This options controlls the export behaviour. If internal write buffers are full, new measurements are either dropped or kept.</p>
<p >The policy to drop measurements on full buffer (allow_drop=true) is recommended for online opration. The idea is to rather drop measurements and thus allow the acquisition to continue without slowing down. When this policy is set, the <a class="el" href="structcuvis__save__args__t.html#aa4838cfd9b94d1cb372cc5eb1052a428">soft_limit</a> and the <a class="el" href="structcuvis__save__args__t.html#ae8e57e459c3bf32a4b11869d64e79e35">max_buftime</a> options are also used (see there).</p>
<p >If new measurements are forced to be kept (allow_drop=true), the exporter will wait until the measurement can be written. This polocy is recommended for batch-processing measurements (offline). The options <a class="el" href="structcuvis__save__args__t.html#aa4838cfd9b94d1cb372cc5eb1052a428">soft_limit</a> and <a class="el" href="structcuvis__save__args__t.html#ae8e57e459c3bf32a4b11869d64e79e35">max_buftime</a> are ignored.</p>
<dl class="section note"><dt>Note</dt><dd>This option only applies, if <a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a>=true. </dd></dl>

</div>
</div>
<a id="a5b51f415efc01e9bd4c10d35502f4e27" name="a5b51f415efc01e9bd4c10d35502f4e27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b51f415efc01e9bd4c10d35502f4e27">&#9670;&nbsp;</a></span>allow_fragmentation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a> cuvis_save_args_t::allow_fragmentation</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allow to split file to multiple files. </p>
<p >When exporting to a cu3s file (<a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a>=true) the allow_fragmentation flag controlles if all measurements (of the same session name) are written to one file like a single file (set to false) or if each measurement is saved to a separate cu3s file (set to true). The latter option generates substantial overhead.</p>
<p >When exporting to a (legacy) cu3 file (<a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a>=false), the fragmentation flag will lead to multiple files exported: a &lt;name&gt;.cu3 file, followed by &lt;name&gt;_&lt;postfix&gt;.tiff files. These come as a tuple and must be kept together, else the file will be corrupted. This export option is intended for legacy programs that were deisnged to read raw data with the previous software verison 2.x. </p>

</div>
</div>
<a id="a701a983b2277993f92d0af8e54a399f2" name="a701a983b2277993f92d0af8e54a399f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a701a983b2277993f92d0af8e54a399f2">&#9670;&nbsp;</a></span>allow_info_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a> cuvis_save_args_t::allow_info_file</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>save additional info file. </p>
<p >The info file is written to the same path as the export files. It is a plain text file and consits of the a header showing the recoridng FPS and mode and a body, where each frame number from 0 till the last frame written is shown by their name. Missing frames are noted as "dropped".</p>
<dl class="section note"><dt>Note</dt><dd>The output of this file is not flushed until the exporter writes to a different file or is closed. Thus, it is not suited to be used as a way to monitor frame drops during live acquisiton.</dd></dl>
<p>This option is ignored, when <a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a> is set to false. </p>

</div>
</div>
<a id="a9e5ae557edf90f2f63a48f47bbe7c15d" name="a9e5ae557edf90f2f63a48f47bbe7c15d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5ae557edf90f2f63a48f47bbe7c15d">&#9670;&nbsp;</a></span>allow_overwrite</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a> cuvis_save_args_t::allow_overwrite</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allow to overwrite an existing file. </p>
<p ><br  />
</p>
<p >This option anables to allow to ovewrite files on the disk, if they exist.</p>
<dl class="section note"><dt>Note</dt><dd>When exporting to legacy format of version 2.x (<a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a>=false and <a class="el" href="structcuvis__save__args__t.html#a5b51f415efc01e9bd4c10d35502f4e27">allow_fragmentation</a>=true), only the existance of the *.cu3 file is checked, existing *.tiff files are neither cleaned up nor checked if they exist prior overwriting. </dd></dl>

</div>
</div>
<a id="a151b107cdada8e0cdc3b48d77afc8263" name="a151b107cdada8e0cdc3b48d77afc8263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a151b107cdada8e0cdc3b48d77afc8263">&#9670;&nbsp;</a></span>allow_session_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a> cuvis_save_args_t::allow_session_file</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>save files of same session number to a single cu3s file. </p>
<p >If <a class="el" href="structcuvis__save__args__t.html#a5b51f415efc01e9bd4c10d35502f4e27">allow_fragmentation</a> is set, cu3s fill be split by measurement. Default in Wrappers: True </p>

</div>
</div>
<a id="a0d3cba728e3a2d2ca77213d606796488" name="a0d3cba728e3a2d2ca77213d606796488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d3cba728e3a2d2ca77213d606796488">&#9670;&nbsp;</a></span>fps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double cuvis_save_args_t::fps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the fps used in operation_mode video </p>
<p >only used if allow_session=true and @operation_mode=Internal. </p>

</div>
</div>
<a id="ae6faf43ac22bf2d91dd7e85106f78ca3" name="ae6faf43ac22bf2d91dd7e85106f78ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6faf43ac22bf2d91dd7e85106f78ca3">&#9670;&nbsp;</a></span>hard_limit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a> cuvis_save_args_t::hard_limit</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of elements in output cache. </p>
<p >The hard limit is only used if <a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a>=true.</p>
<p >The output cache has a maximum size of <a class="el" href="structcuvis__save__args__t.html#ae6faf43ac22bf2d91dd7e85106f78ca3">hard_limit</a>. If more measurements are added, adding another measurment is not possible. Adding a measurement will lock the calling function if <a class="el" href="structcuvis__save__args__t.html#aa0776cc32849e03c9c74853065f5ab1e">allow_drop</a> is set to false. If <a class="el" href="structcuvis__save__args__t.html#aa0776cc32849e03c9c74853065f5ab1e">allow_drop</a> is set to true, the added frame is directrly dropped and not stored.</p>
<dl class="section note"><dt>Note</dt><dd>This behaviour also applies when using the exproter within a worker. </dd></dl>

</div>
</div>
<a id="ae8e57e459c3bf32a4b11869d64e79e35" name="ae8e57e459c3bf32a4b11869d64e79e35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8e57e459c3bf32a4b11869d64e79e35">&#9670;&nbsp;</a></span>max_buftime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a> cuvis_save_args_t::max_buftime</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Any frame is forced to be written after this time (in ms), latest. </p>
<p >The maximum buffer time option is only used if <a class="el" href="structcuvis__save__args__t.html#aa0776cc32849e03c9c74853065f5ab1e">allow_drop</a>=true and <a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a>=true.</p>
<p >The time a buffer is held in the exporter's cache is tracked. If the time given by the max_buftime is exceeded, a measuremnt is written to disk.</p>
<p >This option also helps to guarantee a measurements to be serialized to a permanent storage and avoid data loss upon power or abnormal program termination.</p>
<p >This option will overwrite the <a class="el" href="structcuvis__save__args__t.html#aa4838cfd9b94d1cb372cc5eb1052a428">soft_limit</a> for this frame, if needed. </p>

</div>
</div>
<a id="ae5bbf3a670062d87c01c43aef22ee593" name="ae5bbf3a670062d87c01c43aef22ee593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5bbf3a670062d87c01c43aef22ee593">&#9670;&nbsp;</a></span>operation_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cuvis_8h.html#a1e2992f6dfbc40f72fc5ebe587ad5a5d">CUVIS_OPERATION_MODE</a> cuvis_save_args_t::operation_mode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>give the current operation mode. </p>
<p >Save the operation mode used while recording. Only used if allow_session is set. </p>

</div>
</div>
<a id="aa4838cfd9b94d1cb372cc5eb1052a428" name="aa4838cfd9b94d1cb372cc5eb1052a428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4838cfd9b94d1cb372cc5eb1052a428">&#9670;&nbsp;</a></span>soft_limit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cuvis_8h.html#a411e2de5f4fe2d2210e985d8f323b144">CUVIS_INT</a> cuvis_save_args_t::soft_limit</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Out-of-order frames are sorted within the cache, as long as the cache useage is below this limit. </p>
<p >The soft limit is only used if <a class="el" href="structcuvis__save__args__t.html#aa0776cc32849e03c9c74853065f5ab1e">allow_drop</a>=true and <a class="el" href="structcuvis__save__args__t.html#a151b107cdada8e0cdc3b48d77afc8263">allow_session_file</a>=true.</p>
<p >The internal chache may hold up to <a class="el" href="structcuvis__save__args__t.html#aa4838cfd9b94d1cb372cc5eb1052a428">soft_limit</a> number of frames that are out of sequence.</p>
<p >For example: Let the the seqence number of the measurement written last be #14, and let the internal cache hold the frames #16,#17,...#24 (9 images in chache) and let the soft limit be 10 If we assume the next frame to be #25, the 10 images in cache reached the soft limit, forcing the first frame with the lowest nubmer (#16) to be written (#15 is makred as 'dropped'). If the next image actually is #15, this image is then written out of sequence, resulting in the order #14, #16, #15.</p>
<p >Theese are the states of the example avove.</p>
<blockquote class="doxtable">
<p >write to disk: #14 </p>
</blockquote>
<blockquote class="doxtable">
<p >cache: #16,#17,...#24 [soft limit: 10] </p>
</blockquote>
<blockquote class="doxtable">
<p >insert: #25 </p>
</blockquote>
<blockquote class="doxtable">
<p >write to disk: #16 </p>
</blockquote>
<blockquote class="doxtable">
<p >cache: #17,...#24, #25 [soft limit: 10] </p>
</blockquote>
<blockquote class="doxtable">
<p >insert: #15 </p>
</blockquote>
<blockquote class="doxtable">
<p >write to disk: #15 </p>
</blockquote>
<blockquote class="doxtable">
<p >cache: #17,...#24, #25 [soft limit: 10] </p>
</blockquote>
<p>This behaviour is a compromise between keeping the seuqence in order and at the same time not storing too many images if a frame was acutally dropped. Increase the soft_limit to a value same or grater the <a class="el" href="structcuvis__save__args__t.html#ae6faf43ac22bf2d91dd7e85106f78ca3">hard_limit</a> to disable this behaviour. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="cuvis_8h_source.html">cuvis.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
